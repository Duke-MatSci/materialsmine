const sinon = require('sinon');

const mockFiles = [[{ path: '/images/cat.png' }, { path: '/images/dog.png' }]];

const mockDownloadStream = {
  pipe: sinon.spy()
};

const mockEmptyStream = {
  pipe: sinon.spy()
};

const mockFSFiles = {
  files: mockFiles,
  limit: sinon.stub().returnsThis()
};

const mockBucket = {
  openDownloadStream: sinon.stub().returns(mockDownloadStream),
  find: sinon.stub().returnsThis(),
  limit: sinon.stub().returnsThis(),
  toArray: sinon.stub().returns(mockFiles)
};

const mockFindObjectStream = {
  on: sinon.stub().callsFake(function (filePath, cb) {
    cb(new Error(), { name: 'code.png' });
  })
};

const mockDataset = [
  {
    field1: '19748',
    symmetry: 'C2v',
    unit_cell_x_pixels: '50',
    unit_cell_y_pixels: '50',
    geometry_full: '0000000000000000000000111111000000000000000000000000000000000000000000001111110000000000000000000000000000000000000000000111111110000000000000000000000000000000000000000001111111100000000000000000000000000000000000000000011111111000000000000000000000000000000000000000011111111111100000000000000000000000000000000000000111111111111000000000000000000000000000000000000001111111111110000000000000000000100000000000000111111111111111111110000000000000011000000000000001111111110011111111100000000000000110000000000000011111111000011111111000000000000001110000000000001111111110000111111111000000000000111111111111111111111111100001111111111111111111111100111111111111111111111000011111111111111111111100000111111111111111111110000111111111111111111110000001111111111111111111100001111111111111111111100000011111111111111111111000011111111111111111111000000000111111111111111110000111111111111111110000000000001111111111111111100001111111111111111100000000000011111111111111111000011111111111111111000000000000111111111111111110000111111111111111110000000000001111111111111111000000111111111111111100000000000011111111111111110000001111111111111111000000000000111111111111111100000011111111111111110000000000000011111111111111000000111111111111110000000000000000111111111111110000001111111111111100000000000000111111111111111100000011111111111111110000000000001111111111111111000000111111111111111100000000000011111111111111110000001111111111111111000000000000111111111111111110000111111111111111110000000000001111111111111111100001111111111111111100000000000011111111111111111000011111111111111111000000000000111111111111111110000111111111111111110000000001111111111111111111100001111111111111111111100000011111111111111111111000011111111111111111111000000111111111111111111110000111111111111111111110000011111111111111111111100001111111111111111111110011111111111111111111111000011111111111111111111111110000000000001111111110000111111111000000000000111000000000000001111111100001111111100000000000000110000000000000011111111100111111111000000000000001100000000000000111111111111111111110000000000000010000000000000000000111111111111000000000000000000000000000000000000001111111111110000000000000000000000000000000000000011111111111100000000000000000000000000000000000000001111111100000000000000000000000000000000000000000011111111000000000000000000000000000000000000000000111111110000000000000000000000000000000000000000000111111000000000000000000000000000000000000000000001111110000000000000000000000',
    condition: 'Plane Strain',
    C11: '160891435.5',
    C12: '79440894.92',
    C22: '350759734.0',
    C16: '0',
    C26: '0',
    C66: '20637027.15',
    CM0_E: '1e-09',
    CM0_nu: '',
    CM1_E: '2240000000',
    CM1_nu: '0.49253731',
    youngs: '[1.42899474e+08 1.42007158e+08 1.39346218e+08 1.34968483e+08\n 1.28973220e+08 1.21527138e+08 1.12893160e+08 1.03467311e+08\n 9.38202996e+07 8.47351881e+07 7.72246927e+07 7.25028768e+07\n 7.18819653e+07 7.65757549e+07 8.74258767e+07 1.04621187e+08\n 1.27522959e+08 1.54694551e+08 1.84149454e+08 2.13724559e+08\n 2.41433907e+08 2.65693099e+08 2.85386314e+08 2.99815093e+08\n 3.08592307e+08 3.11535422e+08 3.08592307e+08 2.99815093e+08\n 2.85386314e+08 2.65693099e+08 2.41433907e+08 2.13724559e+08\n 1.84149454e+08 1.54694551e+08 1.27522959e+08 1.04621187e+08\n 8.74258767e+07 7.65757549e+07 7.18819653e+07 7.25028768e+07\n 7.72246927e+07 8.47351881e+07 9.38202996e+07 1.03467311e+08\n 1.12893160e+08 1.21527138e+08 1.28973220e+08 1.34968483e+08\n 1.39346218e+08 1.42007158e+08 1.42899474e+08 1.42007158e+08\n 1.39346218e+08 1.34968483e+08 1.28973220e+08 1.21527138e+08\n 1.12893160e+08 1.03467311e+08 9.38202996e+07 8.47351881e+07\n 7.72246927e+07 7.25028768e+07 7.18819653e+07 7.65757549e+07\n 8.74258767e+07 1.04621187e+08 1.27522959e+08 1.54694551e+08\n 1.84149454e+08 2.13724559e+08 2.41433907e+08 2.65693099e+08\n 2.85386314e+08 2.99815093e+08 3.08592307e+08 3.11535422e+08\n 3.08592307e+08 2.99815093e+08 2.85386314e+08 2.65693099e+08\n 2.41433907e+08 2.13724559e+08 1.84149454e+08 1.54694551e+08\n 1.27522959e+08 1.04621187e+08 8.74258767e+07 7.65757549e+07\n 7.18819653e+07 7.25028768e+07 7.72246927e+07 8.47351881e+07\n 9.38202996e+07 1.03467311e+08 1.12893160e+08 1.21527138e+08\n 1.28973220e+08 1.34968483e+08 1.39346218e+08 1.42007158e+08\n 1.42899474e+08]',
    poisson: '[0.49375465 0.50132437 0.52361374 0.55930485 0.60602907 0.66019438\n 0.71692164 0.77025618 0.81378917 0.8416765  0.84980674 0.83668736\n 0.80366613 0.75440459 0.69387054 0.62727317 0.55926884 0.4935529\n 0.43278073 0.37869092 0.33231262 0.29417972 0.26451348 0.24336198\n 0.23069807 0.22648237 0.23069807 0.24336198 0.26451348 0.29417972\n 0.33231262 0.37869092 0.43278073 0.4935529  0.55926884 0.62727317\n 0.69387054 0.75440459 0.80366613 0.83668736 0.84980674 0.8416765\n 0.81378917 0.77025618 0.71692164 0.66019438 0.60602907 0.55930485\n 0.52361374 0.50132437 0.49375465 0.50132437 0.52361374 0.55930485\n 0.60602907 0.66019438 0.71692164 0.77025618 0.81378917 0.8416765\n 0.84980674 0.83668736 0.80366613 0.75440459 0.69387054 0.62727317\n 0.55926884 0.4935529  0.43278073 0.37869092 0.33231262 0.29417972\n 0.26451348 0.24336198 0.23069807 0.22648237 0.23069807 0.24336198\n 0.26451348 0.29417972 0.33231262 0.37869092 0.43278073 0.4935529\n 0.55926884 0.62727317 0.69387054 0.75440459 0.80366613 0.83668736\n 0.84980674 0.8416765  0.81378917 0.77025618 0.71692164 0.66019438\n 0.60602907 0.55930485 0.52361374 0.50132437 0.49375465]'
  },
  {
    field1: '27024',
    symmetry: 'C2v',
    unit_cell_x_pixels: '50',
    unit_cell_y_pixels: '50',
    geometry_full: '1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000011111111111111111111111111111111111111110000000000111111111111111111111111111111111111111100000000000000000000000111111111111110000000000000000000000000000000000001111111111111100000000000000000000000000000000000011111111111111000000000000000000000000000000000000111111111111110000000000000000000000011111111111111111111111111111111111111110000000000111111111111111111111111111111111111111100000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111',
    condition: 'Plane Strain',
    C11: '1909080999.0',
    C12: '326350900.7',
    C22: '945550413.6',
    C16: '0',
    C26: '0',
    C66: '404657511.3',
    CM0_E: '1e-09',
    CM0_nu: '',
    CM1_E: '2240000000',
    CM1_nu: '0.49253731',
    youngs: '[1.79644300e+09 1.78894858e+09 1.76674163e+09 1.73065354e+09\n 1.68207157e+09 1.62292023e+09 1.55560097e+09 1.48287302e+09\n 1.40767285e+09 1.33289010e+09 1.26113555e+09 1.19454410e+09\n 1.13464819e+09 1.08233847e+09 1.03790637e+09 1.00114630e+09\n 9.71488309e+08 9.48134158e+08 9.30177967e+08 9.16701631e+08\n 9.06843125e+08 8.99840689e+08 8.95058209e+08 8.91997572e+08\n 8.90303069e+08 8.89761838e+08 8.90303069e+08 8.91997572e+08\n 8.95058209e+08 8.99840689e+08 9.06843125e+08 9.16701631e+08\n 9.30177967e+08 9.48134158e+08 9.71488309e+08 1.00114630e+09\n 1.03790637e+09 1.08233847e+09 1.13464819e+09 1.19454410e+09\n 1.26113555e+09 1.33289010e+09 1.40767285e+09 1.48287302e+09\n 1.55560097e+09 1.62292023e+09 1.68207157e+09 1.73065354e+09\n 1.76674163e+09 1.78894858e+09 1.79644300e+09 1.78894858e+09\n 1.76674163e+09 1.73065354e+09 1.68207157e+09 1.62292023e+09\n 1.55560097e+09 1.48287302e+09 1.40767285e+09 1.33289010e+09\n 1.26113555e+09 1.19454410e+09 1.13464819e+09 1.08233847e+09\n 1.03790637e+09 1.00114630e+09 9.71488309e+08 9.48134158e+08\n 9.30177967e+08 9.16701631e+08 9.06843125e+08 8.99840689e+08\n 8.95058209e+08 8.91997572e+08 8.90303069e+08 8.89761838e+08\n 8.90303069e+08 8.91997572e+08 8.95058209e+08 8.99840689e+08\n 9.06843125e+08 9.16701631e+08 9.30177967e+08 9.48134158e+08\n 9.71488309e+08 1.00114630e+09 1.03790637e+09 1.08233847e+09\n 1.13464819e+09 1.19454410e+09 1.26113555e+09 1.33289010e+09\n 1.40767285e+09 1.48287302e+09 1.55560097e+09 1.62292023e+09\n 1.68207157e+09 1.73065354e+09 1.76674163e+09 1.78894858e+09\n 1.79644300e+09]',
    poisson: '[0.1709466  0.17269735 0.17792187 0.18653445 0.1983839  0.21324171\n 0.23078664 0.25058767 0.27208825 0.29459612 0.31728455 0.33921184\n 0.35936531 0.37673353 0.39040468 0.39968067 0.40418835 0.40396314\n 0.39948237 0.39163443 0.38162531 0.37083889 0.36067654 0.35240228\n 0.34701293 0.34514384 0.34701293 0.35240228 0.36067654 0.37083889\n 0.38162531 0.39163443 0.39948237 0.40396314 0.40418835 0.39968067\n 0.39040468 0.37673353 0.35936531 0.33921184 0.31728455 0.29459612\n 0.27208825 0.25058767 0.23078664 0.21324171 0.1983839  0.18653445\n 0.17792187 0.17269735 0.1709466  0.17269735 0.17792187 0.18653445\n 0.1983839  0.21324171 0.23078664 0.25058767 0.27208825 0.29459612\n 0.31728455 0.33921184 0.35936531 0.37673353 0.39040468 0.39968067\n 0.40418835 0.40396314 0.39948237 0.39163443 0.38162531 0.37083889\n 0.36067654 0.35240228 0.34701293 0.34514384 0.34701293 0.35240228\n 0.36067654 0.37083889 0.38162531 0.39163443 0.39948237 0.40396314\n 0.40418835 0.39968067 0.39040468 0.37673353 0.35936531 0.33921184\n 0.31728455 0.29459612 0.27208825 0.25058767 0.23078664 0.21324171\n 0.1983839  0.18653445 0.17792187 0.17269735 0.1709466 ]'
  }
];

const mockFileLstat = {
  isDirectory: (path) => false,
  isFile: (path) => true
};

const mockDirectoryLstat = {
  isDirectory: (path) => true,
  isFile: (path) => false
};

module.exports = {
  mockBucket,
  mockDataset,
  mockFiles,
  mockFSFiles,
  mockDownloadStream,
  mockEmptyStream,
  mockFindObjectStream,
  mockFileLstat,
  mockDirectoryLstat
};
